<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patintero Game - Single Player</title>
    <link rel="stylesheet" href="patintero.css">
</head>

<body>
    <div class="container">
        <h1>üèÉ Patintero Single Player üèÉ</h1>

        <!-- Difficulty Selection Screen -->
        <div class="selection-screen" id="difficultyScreen">
            <h2>Select Difficulty</h2>
            <div class="runner-cards">
                <div class="runner-card" onclick="startGame('easy')" id="diff-easy">
                    <div class="runner-icon">E</div>
                    <h3>Easy</h3>
                    <p>Slow, more forgiving Taya</p>
                </div>
                <div class="runner-card" onclick="startGame('medium')" id="diff-medium">
                    <div class="runner-icon">M</div>
                    <h3>Medium</h3>
                    <p>Balanced</p>
                </div>
                <div class="runner-card" onclick="startGame('hard')" id="diff-hard">
                    <div class="runner-icon">H</div>
                    <h3>Hard</h3>
                    <p>Fast, reactive Taya</p>
                </div>
            </div>
            <br>
            <button class="btn" onclick="startGame('medium')">Start (Medium)</button>
        </div>

        <!-- Coin Flip Screen -->
        <div class="selection-screen" id="coinFlipScreen" style="display: none;">
            <h2>Determining Your Starting Role...</h2>
            <div class="coin-container">
                <div class="coin" id="coin">
                    <div class="coin-side coin-heads">RUNNER</div>
                    <div class="coin-side coin-tails">TAGGER</div>
                </div>
            </div>
            <p id="coinResult" style="font-size: 24px; font-weight: bold; margin-top: 20px;"></p>
        </div>

        <!-- Game Area -->
        <div class="game-area" id="gameArea">
            <div class="game-header">
                <div class="timer-display" id="timerDisplay">
                    <span class="timer-label">Time:</span>
                    <span class="timer-value" id="timerValue">2:00</span>
                </div>
                <div class="score-display" id="scoreDisplay">
                    <div style="display: flex; gap: 20px;">
                        <div>
                            <span class="score-label">My Team:</span>
                            <span class="score-value" id="myTeamScore">0</span>
                        </div>
                        <div>
                            <span class="score-label">Enemy Team:</span>
                            <span class="score-value" id="enemyTeamScore">0</span>
                        </div>
                    </div>
                </div>
                <div class="role-display" id="roleDisplay">
                    <span class="role-label">Role:</span>
                    <span class="role-value" id="roleValue">RUNNER</span>
                </div>
            </div>
            <div class="controls-info">
                Use <span class="key-badge">W</span> <span class="key-badge">A</span> <span class="key-badge">S</span>
                <span class="key-badge">D</span>
                or <span class="key-badge">Arrow Keys</span> to move. Reach the <strong>END ZONE</strong> to win!
            </div>

            <div class="field" id="field">
                <div class="start-zone">Start</div>
                <div class="end-zone">Finish</div>

                <!-- Grid Lines -->
                <div class="line horizontal-line" style="top: 20%"></div>
                <div class="line horizontal-line" style="top: 40%"></div>
                <div class="line horizontal-line" style="top: 60%"></div>
                <div class="line horizontal-line" style="top: 80%"></div>
                <div class="line vertical-line"></div>
            </div>

            <div class="boost-meter-container" id="boostMeter">
                <div class="boost-fill" id="boostFill"></div>
                <span class="boost-text">Boost (Space)</span>
            </div>

            <!-- Character Selection Panel -->
            <div class="character-selection-panel" id="characterPanel">
                <h3 id="characterPanelTitle">Select Character to Control</h3>
                <div class="character-buttons" id="characterButtons">
                    <!-- Buttons will be dynamically generated -->
                </div>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="game-over-modal" id="gameOverModal">
        <h2 id="modalTitle">Game Over!</h2>
        <p id="modalMessage">You were tagged!</p>
        <button class="btn" onclick="resetGame()">Play Again</button>
    </div>

    <script src="patintero.js"></script>

    <!-- Click Sound -->
    <audio id="clickSound">
        <source src="../assets/game_sfx/button_click_sound.mp3" type="audio/mpeg">
    </audio>
    <script>
        // Global click sound for all interactive elements
        document.addEventListener('click', (e) => {
            if (e.target.closest('.btn') || e.target.closest('.runner-card') || e.target.tagName === 'BUTTON') {
                const sound = document.getElementById('clickSound');
                if (sound) {
                    sound.currentTime = 0;
                    sound.play().catch(() => { });
                }
            }
        });
    </script>
</body>

</html>