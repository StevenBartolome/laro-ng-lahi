<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luksong Baka - Laro ng Lahi</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Audio Elements -->
    <audio id="bgMusic" loop>
        <source src="../assets/luksong_baka_assets/luksong_baka_bgm.mp3" type="audio/mpeg">
    </audio>
    <audio id="jumpSound">
        <source src="../assets/luksong_baka_assets/jump_sound.mp3" type="audio/mpeg">
    </audio>
    <audio id="runSound" loop>
        <source src="../assets/luksong_baka_assets/running_sound.mp3" type="audio/mpeg">
    </audio>
    <audio id="clickSound">
        <source src="../assets/game_sfx/button_click_sound.mp3" type="audio/mpeg">
    </audio>
    <audio id="overchargeSound">
        <source src="../assets/luksong_baka_assets/overcharge_sound.mp3" type="audio/mpeg">
    </audio>

    <!-- Sound Controls (Top Left) -->
    <div class="sound-controls">
        <div class="volume-control">
            <span class="volume-label">üéµ BGM</span>
            <input type="range" id="bgmVolume" class="volume-slider" min="0" max="100" value="50"
                title="Background Music Volume">
        </div>
        <div class="volume-control">
            <span class="volume-label">üîä SFX</span>
            <input type="range" id="sfxVolume" class="volume-slider" min="0" max="100" value="70"
                title="Sound Effects Volume">
        </div>
    </div>

    <!-- Difficulty Selection Screen -->
    <div id="difficultyScreen" class="overlay">
        <div class="overlay-content enhanced-overlay">
            <button id="closeOverlayBtn" class="close-btn" title="Close">√ó</button>
            <h1 class="game-title">üêÉ Luksong Baka</h1>

            <div class="menu-grid">
                <!-- Left Column: Instructions -->
                <div class="instructions-panel">
                    <h3>How to Play</h3>
                    <div class="instruction-item">
                        <span class="key-icon">‚ê£</span>
                        <span><strong>Press Space</strong> or <strong>Click</strong> to start running</span>
                    </div>
                    <div class="instruction-item">
                        <span class="icon">üìê</span>
                        <span><strong>Hold</strong> to aim your jump angle</span>
                    </div>
                    <div class="instruction-item">
                        <span class="icon">üöÄ</span>
                        <span><strong>Release</strong> to jump over the baka</span>
                    </div>
                    <div class="instruction-item highlight">
                        <span class="icon">‚ú®</span>
                        <span><strong>Press AGAIN</strong> on top to <strong>BOUNCE!</strong></span>
                    </div>
                </div>

                <!-- Right Column: Difficulty Selection -->
                <div class="difficulty-panel">
                    <h3>Select Difficulty</h3>

                    <button id="easyBtn" class="diff-btn easy">
                        <span class="diff-name">Easy</span>
                        <span class="diff-desc">Slow aiming. Relaxed pace.</span>
                    </button>

                    <button id="normalBtn" class="diff-btn normal">
                        <span class="diff-name">Normal</span>
                        <span class="diff-desc">Standard speed. Balanced challenge.</span>
                    </button>

                    <button id="hardBtn" class="diff-btn hard">
                        <span class="diff-name">Hard</span>
                        <span class="diff-desc">Fast aiming! Precision required.</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Container -->
    <div class="game-container">
        <!-- Game Canvas -->
        <canvas id="gameCanvas"></canvas>

        <!-- Back Button (Below Game) -->
        <a href="../game_select.php" class="back-btn" title="Back to Game Select">
            <img src="../assets/startmenu/back_button.png" alt="Back">
        </a>
    </div>

    <!-- Game UI Overlay -->
    <div id="gameUI">
        <div class="lives-display" id="livesDisplay">
            <img src="../assets/luksong_baka_assets/player-life.png" class="heart" id="heart1">
            <img src="../assets/luksong_baka_assets/player-life.png" class="heart" id="heart2">
            <img src="../assets/luksong_baka_assets/player-life.png" class="heart" id="heart3">
        </div>

        <!-- Settings/Difficulty Button -->
        <button id="difficultyBtn" class="ui-icon-btn" title="Change Difficulty">
            <svg viewBox="0 0 24 24" width="32" height="32" fill="white">
                <path
                    d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L3.16 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.58 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
            </svg>
        </button>

        <div class="level-display">Baka Level: <span id="levelText">1</span></div>
    </div>

    <!-- Facts Button (Above How to Play) -->
    <button id="factsBtn" class="info-fab facts-btn" title="Game Facts">
        <img src="../assets/game_facts_assets/fact_icon.png" alt="Facts">
    </button>

    <!-- How to Play Button (Bottom Right) -->
    <button id="infoBtn" class="info-fab" title="How to Play">
        ‚ùì
    </button>

    <!-- Message Overlay -->
    <div id="messageOverlay" class="hidden">
        <div id="messageText"></div>
    </div>

    <!-- Facts Overlay -->
    <div id="factsOverlay" class="overlay hidden">
        <div class="overlay-content facts-content">
            <button id="closeFactsBtn" class="close-btn" title="Close">√ó</button>
            <img src="../assets/game_facts_assets/luksong_baka_facts_title.png" class="facts-title" alt="Facts">

            <div class="facts-container">
                <img id="factsBoard" src="../assets/game_facts_assets/luksong_baka_facts_board_1.png"
                    class="facts-board" alt="Fact Board">
                <div class="facts-nav">
                    <span class="dot active" data-index="1"></span>
                    <span class="dot" data-index="2"></span>
                    <span class="dot" data-index="3"></span>
                </div>
            </div>
            <p class="click-hint">Click board to read next page ‚û°Ô∏è</p>
        </div>
    </div>

    <!-- Modular JS Files (load order matters!) -->
    <script src="js/config.js"></script>
    <script src="js/state.js"></script>
    <script src="js/assets.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/logic.js"></script>
    <script src="js/rendering.js"></script>
    <script src="js/input.js"></script>
    <script src="js/main.js"></script>
</body>

</html>