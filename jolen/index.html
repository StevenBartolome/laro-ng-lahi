<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jolen - Filipino Marble Game</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Audio Elements -->
  <audio id="bgMusic" loop>
    <source src="../assets/bgmusic/background_music.mp3" type="audio/mpeg">
  </audio>
  <audio id="clickSound">
    <source src="../assets/game_sfx/button_click_sound.mp3" type="audio/mpeg">
  </audio>

  <!-- Sound Controls -->
  <div class="sound-controls">
    <div class="volume-control">
      <span class="volume-label">üéµ BGM</span>
      <input type="range" id="bgmVolume" class="volume-slider" min="0" max="100" value="50">
    </div>
    <div class="volume-control">
      <span class="volume-label">üîä SFX</span>
      <input type="range" id="sfxVolume" class="volume-slider" min="0" max="100" value="70">
    </div>
  </div>

  <div class="app-container">
    <!-- Mode/Difficulty Overlay (Unified) -->
    <div id="menuOverlay" class="screen-panel overlay">
      <div class="panel-content overlay-content">
        <button id="closeOverlayBtn" class="close-btn" title="Close">√ó</button>

        <div class="header-area">
          <h1>JOLEN</h1>
          <p class="subtitle">Classic Filipino Marble Game</p>
        </div>

        <div class="menu-grid">
          <!-- Left: How to Play -->
          <div class="instructions-panel">
            <h3>How to Play</h3>
            <div class="tutorial-step">
              <div class="step-icon">ÔøΩ</div>
              <div class="step-text">
                <h4>Click & Hold</h4>
                <p>Grab your marble</p>
              </div>
            </div>
            <div class="tutorial-step">
              <div class="step-icon">ÔøΩ</div>
              <div class="step-text">
                <h4>Drag Back</h4>
                <p>Aim and power up</p>
              </div>
            </div>
            <div class="tutorial-step">
              <div class="step-icon">ÔøΩ</div>
              <div class="step-text">
                <h4>Release</h4>
                <p>Shoot the marble!</p>
              </div>
            </div>
          </div>

          <!-- Right: Mode Selection -->
          <div class="difficulty-panel">
            <h3>Select Mode</h3>
            <div class="mode-options">
              <button id="mode-target" class="game-card mode-btn">
                <span class="card-icon">üéØ</span> Target
              </button>
              <button id="mode-circle" class="game-card mode-btn">
                <span class="card-icon">‚≠ï</span> Circle
              </button>
              <button id="mode-hole" class="game-card mode-btn">
                <span class="card-icon">üï≥Ô∏è</span> Hole
              </button>
              <button id="mode-tumbang" class="game-card mode-btn">
                <span class="card-icon">ü•´</span> Tumbang
              </button>
              <button id="mode-line" class="game-card mode-btn">
                <span class="card-icon">üìè</span> Line
              </button>
            </div>

            <h3>Difficulty</h3>
            <div class="difficulty-options">
              <button id="diff-easy" class="diff-btn easy">
                <span class="diff-name">Easy</span>
                <span class="diff-desc">Big targets, slow pace</span>
              </button>
              <button id="diff-normal" class="diff-btn normal">
                <span class="diff-name">Normal</span>
                <span class="diff-desc">Standard rules & speed</span>
              </button>
              <button id="diff-hard" class="diff-btn hard">
                <span class="diff-name">Hard</span>
                <span class="diff-desc">Small targets, fast pace</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Container -->
    <div id="game-container" style="display: none">
      <!-- Game UI -->
      <div id="gameUI">
        <div class="stat-box">
          <span class="stat-label">LEVEL</span>
          <span id="level-display" class="stat-value">1</span>
        </div>
        <div class="stat-box">
          <span class="stat-label">SCORE</span>
          <span id="score-display" class="stat-value">0</span>
        </div>

        <button id="menuBtn" class="ui-icon-btn" title="Menu">
          <span style="font-size: 24px;">‚öôÔ∏è</span>
        </button>
      </div>

      <!-- Canvas -->
      <div class="canvas-wrapper">
        <canvas id="gameCanvas"></canvas>
      </div>

      <!-- Back Button -->
      <a href="../game_select.php" class="back-btn" title="Exit">
        <img src="../assets/startmenu/back_button.png" alt="Back" style="width: 150px;">
      </a>
    </div>
  </div>

  <!-- Help Button -->
  <button id="infoBtn" class="info-fab" title="How to Play">‚ùì</button>

  <script type="module" src="js/Main.js"></script>

  <script type="module" src="js/Main.js"></script>
</body>

</html>